#!/usr/bin/env python3

from selenium import webdriver  #pip install selenium
from selenium.webdriver.chrome.options import Options
from selenium.webdriver.common.by import By
from selenium.webdriver.chrome.service import Service

try:
    url = 'https://iplogger.org/my-ip/'
    chrome_opt = Options()
    chrome_opt.add_experimental_option('excludeSwitches', ['enable-logging'])
    chrome_opt.add_argument("--headless=new")
    chrome_opt.add_argument('--log-level=3')
    chrome_opt.add_argument("--disable-features=NetworkService")
    chrome_opt.add_argument("--use-fake-ui-for-media-stream")  
    chrome_opt.add_argument("--use-fake-device-for-media-stream")
    driver_path = "chromedriver.exe" #according to your chrome version and be sure to download that
    service = Service(driver_path)
    browser = webdriver.Chrome(service=service, options=chrome_opt)
    browser.implicitly_wait(10)
    browser.maximize_window()
    browser.get(url)


    main_ip = browser.find_element(by=By.XPATH, value='/html/body/section/div/div[3]').text
    print(main_ip)
    print("\nDetails of the IP:\n")

    for i in range(2,24):
        details = browser.find_element(by=By.XPATH, value=f'/html/body/section/div/div[4]/div[1]/div/div[{i}]').text
        print(f'{details}\n')


except Exception as e:
    print(e)


browser.quit()